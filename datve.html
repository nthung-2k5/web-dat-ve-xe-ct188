<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="author" content="Há»“ Thá»‹ Dá»©a">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="/icon.png" rel="icon" type="image/vnd.microsoft.icon">
    <title>Äáº·t vÃ© xe</title>

    <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <script>
        // Náº¿u ngÆ°á»i dÃ¹ng chÆ°a Ä‘Äƒng nháº­p, chuyá»ƒn hÆ°á»›ng Ä‘áº¿n trang Ä‘Äƒng nháº­p
        // vÃ  lÆ°u láº¡i Ä‘Æ°á»ng dáº«n hiá»‡n táº¡i Ä‘á»ƒ sau khi Ä‘Äƒng nháº­p cÃ³ thá»ƒ quay láº¡i trang nÃ y
        const currentUser = sessionStorage.getItem('currentUser') ?? localStorage.getItem('currentUser');
        if (!currentUser) {
            window.location.href = `/dangnhap.html?redirectUrl=${encodeURIComponent(window.location.pathname + window.location.search)}`;
        }
    </script>

    <script defer src="/scripts/web-layout.js"></script>
    <script type="module" src="/scripts/datve/preload.js"></script>
    <script type="module" src="/scripts/datve/index.js"></script>
    <link
        href="https://cdn.jsdelivr.net/combine/npm/daisyui@5/base/svg.css,npm/daisyui@5/base/scrollbar.css,npm/daisyui@5/base/rootcolor.css,npm/daisyui@5/base/rootscrolllock.css,npm/daisyui@5/base/rootscrollgutter.css,npm/daisyui@5/base/properties.css,npm/daisyui@5/components/button.css,npm/daisyui@5/components/menu.css,npm/daisyui@5/components/select.css,npm/daisyui@5/components/toggle.css,npm/daisyui@5/components/label.css,npm/daisyui@5/components/checkbox.css,npm/daisyui@5/components/input.css,npm/daisyui@5/components/card.css,npm/daisyui@5/theme/light.css"
        rel="stylesheet" type="text/css" />
    <link rel="stylesheet" href="/styles/main.css" />

    <style type="text/tailwindcss">
        .seat {
            @apply relative transition cursor-pointer size-[40px];

            > span {
                @apply absolute inset-0 flex items-center justify-center text-sm font-semibold;
            }

            &.selected {
                @apply text-purple-900;
            }

            &.available {
                @apply text-sky-900;
            }

            &.occupied {
                cursor: not-allowed;
                @apply text-gray-900;
            }

            &:hover:not(.occupied):not(.selected) {
                @apply scale-110;
            }
        }

        .seat-row {
            display: flex;
            justify-content: center;
            align-items: center;
            @apply gap-2;
        }

        .legend {
            @apply flex items-center;
        }

        .legend-box {
            @apply inline-block w-4 h-4 mr-2 rounded border-2;
        }

        input.input {
            &:valid {
                border-color: #28a745;
                padding-right: calc(1.5em + 0.75rem);
                background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 8 8'%3e%3cpath fill='%2328a745' d='M2.3 6.73L.6 4.53c-.4-.4-.4-1.03 0-1.4.4-.4 1.03-.4 1.4 0l1.7 1.7L6.2 2.3c.4-.4 1.03-.4 1.4 0 .4.4.4 1.03 0 1.4L3.7 6.73c-.4.4-1.03.4-1.4 0z'/%3e%3c/svg%3e");
                background-repeat: no-repeat;
                background-position: right calc(0.375em + 0.1875rem) center;
                background-size: calc(0.75em + 0.375rem) calc(0.75em + 0.375rem);
            }

            &:invalid {
                border-color: #dc3545;
                padding-right: calc(1.5em + 0.75rem);
                background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 12 12' width='12' height='12' fill='none' stroke='%23dc3545'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3e%3ccircle r='.5' cx='6' cy='8.2'/%3e%3c/svg%3e");
                background-repeat: no-repeat;
                background-position: right calc(0.375em + 0.1875rem) center;
                background-size: calc(0.75em + 0.375rem) calc(0.75em + 0.375rem);
            }
        }

        .valid-feedback,
        .invalid-feedback {
            display: none !important;
        }

        .form-group {
            margin-bottom: 1rem;
        }
    </style>
</head>

<body>
    <main class="container my-5 mx-auto">
        <form class="grid grid-cols-1 columns-2 lg:grid-cols-[2fr_1fr] gap-4" novalidate method="GET" action="/datvethanhcong.html">
            <input type="hidden" name="routeId">
            <input type="hidden" name="seats">
            <div class="card bg-white max-lg:order-1">
                <div class="card-body items-center">
                    <h3 class="card-title">ğŸª‘ Chá»n gháº¿</h3>
                    <div class="flex justify-center gap-6 mb-2">
                        <span class="legend">
                            <div class="legend-box border-[#96C5E7] bg-[#DEF3FF]"></div> CÃ²n trá»‘ng
                        </span>
                        <span class="legend">
                            <div class="legend-box border-[#B795E0] bg-[#F1E5FF]"></div> Äang chá»n
                        </span>
                        <span class="legend">
                            <div class="legend-box border-[#C0C6CC] bg-[#D5D9DD]"></div> ÄÃ£ bÃ¡n
                        </span>
                    </div>
                    <div class="flex flex-col gap-2" id="seatContainer"></div>
                </div>
            </div>
            <div class="row-span-2 hidden lg:flex flex-col gap-4" id="rightCol">
                <div class="card bg-white max-lg:order-2" id="customerInfo">
                    <div class="card-body items-center">
                        <h3 class="card-title">ğŸ‘¤ ThÃ´ng tin khÃ¡ch hÃ ng</h3>
                        <div class="grid grid-cols-1 gap-4 w-full">
                            <label class="floating-label">
                                <span>ğŸªª Há» vÃ  tÃªn</span>
                                <input name="name" placeholder="ğŸªª Há» vÃ  tÃªn" pattern="^[a-zA-ZÃ€-á»¹\s]+$" required
                                    class="input input-md min-w-full">
                            </label>
                            <label class="floating-label">
                                <span>ğŸ“ Sá»‘ Ä‘iá»‡n thoáº¡i</span>
                                <input name="phone" placeholder="ğŸ“ Sá»‘ Ä‘iá»‡n thoáº¡i" pattern="^0[0-9]{9}$" required
                                    class="input input-md min-w-full">
                            </label>
                            <label class="floating-label">
                                <span>ğŸ“§ Email</span>
                                <input id="email" name="email" placeholder="ğŸ“§ Email" type="email" required
                                    class="input input-md min-w-full">
                            </label>
                        </div>
                    </div>
                </div>
                <div class="card bg-white max-lg:order-4" id="orderInfo">
                    <div class="card-body items-center">
                        <h3 class="card-title">ğŸšŒ ThÃ´ng tin vÃ©</h3>
                        <div class="w-full text-base grid grid-cols-1 gap-2">
                            <p><strong>ğŸ›£ï¸Tuyáº¿n xe:</strong> <span id="route-display"></span></p>
                            <p><strong>â°Thá»i gian xuáº¥t phÃ¡t:</strong> <span id="departure-time-display"></span></p>
                            <p><strong>ğŸ’ºSá»‘ lÆ°á»£ng gháº¿:</strong> <span id="seat-count-display">0 Gháº¿</span></p>
                            <p><strong>ğŸ”¢Sá»‘ gháº¿:</strong> <span id="seat-numbers-display">ChÆ°a chá»n</span></p>
                            <p><strong>ğŸ“Äiá»ƒm Ä‘Ã³n khÃ¡ch:</strong> <span id="pickup-location-display"></span></p>
                            <p><strong>ğŸ“Äiá»ƒm tráº£ khÃ¡ch:</strong> <span id="arrival-location-display"></span></p>
                            <p><strong>ğŸ’°Tá»•ng tiá»n:</strong> <span id="total-price-display">0</span>Ä‘</p>
                            <div class="flex justify-between mt-4">
                                <button type="reset" class="btn btn-outline btn-error">ğŸ”„Äáº·t láº¡i</button>
                                <button type="submit" class="btn btn-info">ğŸ’³ Thanh toÃ¡n</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="card bg-white max-lg:order-3">
                <div class="card-body items-center">
                    <h3 class="card-title">ğŸ“Œ Äiá»u khoáº£n &amp; LÆ°u Ã½</h3>
                    <div class="w-full">
                        <p class="mb-2">(*) QuÃ½ khÃ¡ch vui lÃ²ng cÃ³ máº·t táº¡i báº¿n xuáº¥t phÃ¡t cá»§a xe trÆ°á»›c Ã­t nháº¥t 30 phÃºt giá»
                            xe khá»Ÿi hÃ nh, mang theo thÃ´ng bÃ¡o Ä‘Ã£ thanh toÃ¡n vÃ© thÃ nh cÃ´ng cÃ³ chá»©a mÃ£ vÃ© Ä‘Æ°á»£c gá»­i tá»« há»‡
                            thá»‘ng Route3Go. Vui lÃ²ng liÃªn há»‡ Trung tÃ¢m tá»•ng Ä‘Ã i 1900 2030 Ä‘á»ƒ Ä‘Æ°á»£c há»— trá»£.</p>
                        <p>(*) Náº¿u quÃ½ khÃ¡ch cÃ³ nhu cáº§u trung chuyá»ƒn, vui lÃ²ng liÃªn há»‡ Tá»•ng Ä‘Ã i trung chuyá»ƒn 1900 4841
                            trÆ°á»›c khi Ä‘áº·t vÃ©. ChÃºng tÃ´i khÃ´ng Ä‘Ã³n/trung chuyá»ƒn táº¡i nhá»¯ng Ä‘iá»ƒm xe trung chuyá»ƒn khÃ´ng thá»ƒ
                            tá»›i Ä‘Æ°á»£c.</p>
                        <div class="mt-3">
                            <label class="label">
                                <input id="acceptTerms" type="checkbox" class="checkbox">
                                <strong>Cháº¥p nháº­n Ä‘iá»u khoáº£n</strong> Ä‘áº·t vÃ© &amp; chÃ­nh sÃ¡ch báº£o máº­t thÃ´ng tin cá»§a
                                Route3Go
                            </label>
                        </div>
                    </div>
                </div>
            </div>
        </form>
    </main>
</body>

</html>
